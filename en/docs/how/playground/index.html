<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Hugo Playground # The experience of building a site with Hugo is great. The first is that it is fast to build, and the second is that it is easy to use, a hugo command, and our site is ready.
During the construction process, Hugo provides a wealth of built-in functions that can provide you with almost any site-related information you need during the construction process. Let the theme help with all presentation and layout related issues through reusable templates."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Hugo Playground # The experience of building a site with Hugo is great. The first is that it is fast to build, and the second is that it is easy to use, a hugo command, and our site is ready.
During the construction process, Hugo provides a wealth of built-in functions that can provide you with almost any site-related information you need during the construction process. Let the theme help with all presentation and layout related issues through reusable templates."><meta property="og:type" content="article"><meta property="og:url" content="https://hugo.notes.sunwei.xyz/en/docs/how/playground/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-02-13T20:03:11+08:00"><title>Index | Deep Understanding of Hugo: Become an domain expert in SSG</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.8ffc7540214fa0ea1be60156a809a9db2d8cf47717975e521b4dac9ba78aecb6.js integrity="sha256-j/x1QCFPoOob5gFWqAmp2y2M9HcXl15SG02sm6eK7LY=" crossorigin=anonymous></script>
<script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-STPKPBQR5Y"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-STPKPBQR5Y",{anonymize_ip:!1})}</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/en/><span>Deep Understanding of Hugo: Become an domain expert in SSG</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</a></label><ul><li><a href=https://hugo.notes.sunwei.xyz/>Chinese</a></li></ul></li></ul><ul><li><p><strong>Hugo usage examples</strong></p></li><li><p><a href=/en/docs/what/site/>Create Site</a></p></li><li><p><a href=/en/docs/what/theme/>Custom Theme</a><br></p></li><li><p><strong>Hugo Architecture</strong></p></li><li><p><a href=/en/docs/how/playground/ class=active>Playground</a></p></li><li><p><a href=/en/docs/how/event-storming/>Event Storming</a></p></li><li><p><a href=/en/docs/how/arch/>Architecture</a><br></p></li><li><p><a href=/en/docs/code/><strong>Source Code</strong></a></p></li><li><p><a href=/en/docs/code/config/>Configuration</a></p></li><li><p><a href=/en/docs/code/deps/>Deps Management</a></p><ul><li><a href=/en/docs/code/deps/pathspec/>PathSpec</a></li><li><a href=/en/docs/code/deps/contentspec/>ContentSpec</a></li></ul></li><li><p><a href=/en/docs/code/site/>Site Creating</a></p><ul><li><a href=/en/docs/code/site/create/>Create Site</a></li><li><a href=/en/docs/code/site/resources/>Load Resources</a></li><li><a href=/en/docs/code/site/markdown/>Markdown</a></li></ul></li><li><p><a href=/en/docs/code/build/>Site Building</a></p><ul><li><a href=/en/docs/code/build/template/>Template Exec</a><br></li></ul></li></ul><ul><li><a href=/en/posts/>Blog</a></li><li><a href=https://github.com/sunwei/hugo-book target=_blank rel=noopener>Github</a></li><li><a href=https://themes.gohugo.io/hugo-book/ target=_blank rel=noopener>Hugo Themes</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Index</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#hugo-playground>Hugo Playground</a><ul><li><a href=#playground>Playground</a><ul><li><a href=#site-home>Site Home</a></li><li><a href=#blog-page>Blog Page</a></li><li><a href=#show-me-the-code>Show Me The Code</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=hugo-playground>Hugo Playground
<a class=anchor href=#hugo-playground>#</a></h1><p>The experience of building a site with Hugo is great.
The first is that it is fast to build, and the second is that it is easy to use,
a <code>hugo</code> command, and our site is ready.</p><p>During the construction process,
Hugo provides a wealth of built-in functions that can provide you with almost any site-related information you need during the construction process.
Let the theme help with all presentation and layout related issues through reusable templates.
Allow authors to focus more on content creation.</p><h2 id=playground>Playground
<a class=anchor href=#playground>#</a></h2><p>The construction of the site will transform the written content into website resources that the web server can understand.
For example, when we write, we use Markdown format, and the generated website resources are usually in HTML format.</p><p>Here is a simple initialization blog content:</p><pre tabindex=0><code>-- config.toml --
theme = &#34;mytheme&#34;
contentDir = &#34;mycontent&#34;
-- myproject.txt --
Hello project!
-- themes/mytheme/mytheme.txt --
Hello theme!
-- mycontent/blog/post.md --
---
title: &#34;Post Title&#34;
---
### first blog
Hello Blog
-- layouts/index.html --
{{ $entries := (readDir &#34;.&#34;) }}
START:|{{ range $entry := $entries }}{{ if not $entry.IsDir }}{{ $entry.Name }}|{{ end }}{{ end }}:END:
-- layouts/_default/single.html --
{{ .Content }}
===
Static Content
===
</code></pre><p>You can see that we have customized a theme <strong>mytheme</strong>,
there is only one mytheme.txt file, and there is no actual template file.
This will help us understand how themes are nested and loaded in the construction process below.</p><p>Our content folder is <strong>mycontent</strong>,
and there is a simple blog post /blog/post.md under the blog directory.
If you want to visit this blog post independently,
you need to generate an HTML file for her so that we can visit it in the browser.</p><p>In the sample, in order to generate the homepage and blog,
we also created two templates under layouts.
One is the homepage template index.html,
and the other is the template _default/single.html that will be used in a single article.</p><p>By parsing the above text through golang tools txtar,
it is convenient for us to convert it into a disk file with the following structure:</p><pre tabindex=0><code>.
├── config.toml
├── layouts
│  ├── _default
│  │   └── single.html
│  └── index.html
├── mycontent
│   └── blog
│     └── post.md
├── myproject.txt
└── themes
    └── mytheme
        └── mytheme.txt
</code></pre><p>Building through the Hugo command can generate the following site resources:</p><pre tabindex=0><code>➜  public tree
.
├── blog
│   └── index.html
├── index.html
└── robots.txt
</code></pre><p>and contains the information we want:</p><h3 id=site-home>Site Home
<a class=anchor href=#site-home>#</a></h3><pre tabindex=0><code>➜  public cat index.html

START:|config.toml|myproject.txt|:END:%
</code></pre><h3 id=blog-page>Blog Page
<a class=anchor href=#blog-page>#</a></h3><pre tabindex=0><code>➜  public cat blog/index.html
&lt;h3 id=&#34;first-blog&#34;&gt;first blog&lt;/h3&gt;
&lt;p&gt;Hello Blog&lt;/p&gt;

===
Static Content
===

  %
</code></pre><p>So how did Hugo&rsquo;s magic come about?</p><p>In order to understand the core principles of Hugo construction,
the latest source code of Hugo is trimmed to remove unnecessary &ldquo;noise&rdquo; at the current stage.
Combined with our above example,
a minimal working source library -
<a href=https://github.com/gitaction/hugo-palyground>hugo playground</a> was manually generated.
To ensure that we can play to our heart&rsquo;s content in this playground,
focus on the core principles, and enjoy the entire source code learning process.</p><p>By command:</p><pre tabindex=0><code>git ls-files | grep &#39;\.go&#39; | xargs wc -l
</code></pre><p>Count the code lines of
<a href=https://github.com/gohugoio/hugo>gohugoio/hugo</a>
and
<a href=https://github.com/gitaction/hugo-palyground>hugo playground</a> respectively.
The data we get are <strong>163075</strong> and <strong>33990</strong> rows respectively.</p><p>**It has been reduced by nearly four times! **</p><p>I believe that all the judges will be shocked,
and their confidence will double! Looking at the source code can be so happy.
Please prepare the melon seed drink bench, and listen carefully to the judges.</p><h3 id=show-me-the-code>Show Me The Code
<a class=anchor href=#show-me-the-code>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;bytes&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;path/filepath&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;golang.org/x/tools/txtar&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 文件结构
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 文件名: config.toml
</span></span></span><span style=display:flex><span><span style=color:#75715e>// 文件内容：theme = &#39;mytheme&#39;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>files</span> = <span style=color:#e6db74>&#34;-- config.toml --\n&#34;</span> <span style=color:#f92672>+</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;theme = &#39;mytheme&#39;&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// 解析上面的文件结构
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#a6e22e>data</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>txtar</span>.<span style=color:#a6e22e>Parse</span>([]byte(<span style=color:#a6e22e>files</span>))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;File start:&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// 遍历解析生成的所有文件，通过File结构体获取文件名和文件数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// f.Name 获取文件名
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#75715e>// f.Data 获取文件数据
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>f</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>Files</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>filename</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>filepath</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#e6db74>&#34;workingDir&#34;</span>, <span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>Name</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>data</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>bytes</span>.<span style=color:#a6e22e>TrimSuffix</span>(<span style=color:#a6e22e>f</span>.<span style=color:#a6e22e>Data</span>, []byte(<span style=color:#e6db74>&#34;\n&#34;</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(string(<span style=color:#a6e22e>data</span>))
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;File end.&#34;</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span># 解析后得到文件config.toml，以及下面的文件内容
</span></span><span style=display:flex><span># workingDir就是我们的工作目录，通常是要写入的文件目录
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>File start:
</span></span><span style=display:flex><span>workingDir/config.toml
</span></span><span style=display:flex><span>theme = &#39;mytheme&#39;
</span></span><span style=display:flex><span>File end.
</span></span></code></pre></div><p><a href=https://c.sunwei.xyz/txtar.html>Try it yourself</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/sunwei/hugo-notes/commit/df6c18498055ccad94565784c56c90639174a0b2 title='Last modified by sunwei | February 13, 2023' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>February 13, 2023</span></a></div><div><a class="flex align-center" href=https://github.com/sunwei/hugo-notes/edit/main/content/docs/how/playground/index.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#hugo-playground>Hugo Playground</a><ul><li><a href=#playground>Playground</a><ul><li><a href=#site-home>Site Home</a></li><li><a href=#blog-page>Blog Page</a></li><li><a href=#show-me-the-code>Show Me The Code</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>